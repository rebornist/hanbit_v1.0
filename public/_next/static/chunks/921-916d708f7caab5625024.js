(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[921],{5074:function(n,e,t){"use strict";t.d(e,{M:function(){return w}});var o=t(7294),r=t(5697),i=function(){return(i=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)},a={onActivate:r.func,onAddUndo:r.func,onBeforeAddUndo:r.func,onBeforeExecCommand:r.func,onBeforeGetContent:r.func,onBeforeRenderUI:r.func,onBeforeSetContent:r.func,onBeforePaste:r.func,onBlur:r.func,onChange:r.func,onClearUndos:r.func,onClick:r.func,onContextMenu:r.func,onCopy:r.func,onCut:r.func,onDblclick:r.func,onDeactivate:r.func,onDirty:r.func,onDrag:r.func,onDragDrop:r.func,onDragEnd:r.func,onDragGesture:r.func,onDragOver:r.func,onDrop:r.func,onExecCommand:r.func,onFocus:r.func,onFocusIn:r.func,onFocusOut:r.func,onGetContent:r.func,onHide:r.func,onInit:r.func,onKeyDown:r.func,onKeyPress:r.func,onKeyUp:r.func,onLoadContent:r.func,onMouseDown:r.func,onMouseEnter:r.func,onMouseLeave:r.func,onMouseMove:r.func,onMouseOut:r.func,onMouseOver:r.func,onMouseUp:r.func,onNodeChange:r.func,onObjectResizeStart:r.func,onObjectResized:r.func,onObjectSelected:r.func,onPaste:r.func,onPostProcess:r.func,onPostRender:r.func,onPreProcess:r.func,onProgressState:r.func,onRedo:r.func,onRemove:r.func,onReset:r.func,onSaveContent:r.func,onSelectionChange:r.func,onSetAttrib:r.func,onSetContent:r.func,onShow:r.func,onSubmit:r.func,onUndo:r.func,onVisualAid:r.func},u=i({apiKey:r.string,id:r.string,inline:r.bool,init:r.object,initialValue:r.string,onEditorChange:r.func,outputFormat:r.oneOf(["html","text"]),value:r.string,tagName:r.string,cloudChannel:r.string,plugins:r.oneOfType([r.string,r.array]),toolbar:r.oneOfType([r.string,r.array]),disabled:r.bool,textareaName:r.string,tinymceScriptSrc:r.string,scriptLoading:r.shape({async:r.bool,defer:r.bool,delay:r.number})},a),s=function(n){return"function"===typeof n},c=function(n){return n in a},l=function(n){return n.substr(2)},f=function(n,e,t,o,r){return function(n,e,t,o,r,i,a){var u=Object.keys(r).filter(c),s=Object.keys(i).filter(c),f=u.filter((function(n){return void 0===i[n]})),d=s.filter((function(n){return void 0===r[n]}));f.forEach((function(n){var e=l(n),o=a[e];t(e,o),delete a[e]})),d.forEach((function(t){var r=o(n,t),i=l(t);a[i]=r,e(i,r)}))}(r,n.on.bind(n),n.off.bind(n),(function(e,t){return function(o){var r;return null===(r=e(t))||void 0===r?void 0:r(o,n)}}),e,t,o)},d=0,p=function(n){var e=Date.now();return n+"_"+Math.floor(1e9*Math.random())+ ++d+String(e)},h=function(n){return null!==n&&("textarea"===n.tagName.toLowerCase()||"input"===n.tagName.toLowerCase())},v=function(n){return"undefined"===typeof n||""===n?[]:Array.isArray(n)?n:n.split(" ")},y=function(){return{listeners:[],scriptId:p("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},g=function(){var n=y();return{load:function(e,t,o,r,i,a){var u=function(){return function(n,e,t,o,r,i){var a=e.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=n,a.src=t,a.async=o,a.defer=r;var u=function(){a.removeEventListener("load",u),i()};a.addEventListener("load",u),e.head&&e.head.appendChild(a)}(n.scriptId,e,t,o,r,(function(){n.listeners.forEach((function(n){return n()})),n.scriptLoaded=!0}))};n.scriptLoaded?a():(n.listeners.push(a),n.scriptLoading||(n.scriptLoading=!0,i>0?setTimeout(u,i):u()))},reinitialize:function(){n=y()}}}(),m=function(){var n="undefined"!==typeof window?window:t.g;return n&&n.tinymce?n.tinymce:null},C=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])})(e,t)};return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),b=function(){return(b=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)},k=function(){var n,e,t;return(null===(t=null===(e=null===(n=m())||void 0===n?void 0:n.Env)||void 0===e?void 0:e.browser)||void 0===t?void 0:t.isIE())?"change keyup compositionend setcontent":"change input compositionend setcontent"},E=function(){return window.InputEvent&&"function"===typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"},w=function(n){function e(e){var t,r,i,a=n.call(this,e)||this;return a.rollbackTimer=void 0,a.valueCursor=void 0,a.rollbackChange=function(){var n=a.editor,e=a.props.value;n&&e&&e!==a.currentContent&&n.undoManager.ignore((function(){if(n.setContent(e),a.valueCursor&&(!a.inline||n.hasFocus()))try{n.selection.moveToBookmark(a.valueCursor)}catch(t){}})),a.rollbackTimer=void 0},a.handleBeforeInput=function(n){if(void 0!==a.props.value&&a.props.value===a.currentContent&&a.editor&&(!a.inline||a.editor.hasFocus))try{a.valueCursor=a.editor.selection.getBookmark(3)}catch(e){}},a.handleBeforeInputSpecial=function(n){"Enter"!==n.key&&"Backspace"!==n.key&&"Delete"!==n.key||a.handleBeforeInput(n)},a.handleEditorChange=function(n){var e=a.editor;if(e&&e.initialized){var t=e.getContent();if(void 0!==a.props.value&&a.props.value!==t&&(a.rollbackTimer||(a.rollbackTimer=window.setTimeout(a.rollbackChange,200))),t!==a.currentContent&&(a.currentContent=t,s(a.props.onEditorChange))){var o=a.props.outputFormat,r="html"===o?t:e.getContent({format:o});a.props.onEditorChange(r,e)}}},a.handleEditorChangeSpecial=function(n){"Backspace"!==n.key&&"Delete"!==n.key||a.handleEditorChange(n)},a.initialise=function(){var n=a.elementRef.current;if(n){var e=m();if(!e)throw new Error("tinymce should have been loaded into global scope");var t,o,r=b(b({},a.props.init),{selector:void 0,target:n,readonly:a.props.disabled,inline:a.inline,plugins:(t=a.props.init&&a.props.init.plugins,o=a.props.plugins,v(t).concat(v(o))),toolbar:a.props.toolbar||a.props.init&&a.props.init.toolbar,setup:function(e){a.editor=e,a.bindHandlers({}),a.inline&&!h(n)&&e.once("PostRender",(function(n){e.setContent(a.getInitialValue(),{no_events:!0})})),a.props.init&&s(a.props.init.setup)&&a.props.init.setup(e)},init_instance_callback:function(n){var e,t,o=a.getInitialValue();a.currentContent=null!==(e=a.currentContent)&&void 0!==e?e:n.getContent(),a.currentContent!==o&&(a.currentContent=o,n.setContent(o),n.undoManager.clear(),n.undoManager.add(),n.setDirty(!1));var r=null!==(t=a.props.disabled)&&void 0!==t&&t;n.setMode(r?"readonly":"design"),a.props.init&&s(a.props.init.init_instance_callback)&&a.props.init.init_instance_callback(n)}});a.inline||(n.style.visibility=""),h(n)&&(n.value=a.getInitialValue()),e.init(r)}},a.id=a.props.id||p("tiny-react"),a.elementRef=o.createRef(),a.inline=null!==(i=null!==(t=a.props.inline)&&void 0!==t?t:null===(r=a.props.init)||void 0===r?void 0:r.inline)&&void 0!==i&&i,a.boundHandlers={},a}return C(e,n),e.prototype.componentDidUpdate=function(n){var e,t,o=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(n),this.editor.initialized)){if(this.currentContent=null!==(e=this.currentContent)&&void 0!==e?e:this.editor.getContent(),"string"===typeof this.props.initialValue&&this.props.initialValue!==n.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"===typeof this.props.value&&this.props.value!==this.currentContent){var r=this.editor;r.undoManager.transact((function(){var n;if(!o.inline||r.hasFocus())try{n=r.selection.getBookmark(3)}catch(u){}var e=o.valueCursor;if(r.setContent(o.props.value),!o.inline||r.hasFocus())for(var t=0,i=[n,e];t<i.length;t++){var a=i[t];if(a)try{r.selection.moveToBookmark(a),o.valueCursor=a;break}catch(u){}}}))}if(this.props.disabled!==n.disabled){var i=null!==(t=this.props.disabled)&&void 0!==t&&t;this.editor.setMode(i?"readonly":"design")}}},e.prototype.componentDidMount=function(){var n,e,t,o,r,i;null!==m()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&g.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(e=null===(n=this.props.scriptLoading)||void 0===n?void 0:n.async)&&void 0!==e&&e,null!==(o=null===(t=this.props.scriptLoading)||void 0===t?void 0:t.defer)&&void 0!==o&&o,null!==(i=null===(r=this.props.scriptLoading)||void 0===r?void 0:r.delay)&&void 0!==i?i:0,this.initialise)},e.prototype.componentWillUnmount=function(){var n=this,e=this.editor;e&&(e.off(k(),this.handleEditorChange),e.off(E(),this.handleBeforeInput),e.off("keypress",this.handleEditorChangeSpecial),e.off("keydown",this.handleBeforeInputSpecial),e.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(t){e.off(t,n.boundHandlers[t])})),this.boundHandlers={},e.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.renderInline=function(){var n=this.props.tagName,e=void 0===n?"div":n;return o.createElement(e,{ref:this.elementRef,id:this.id})},e.prototype.renderIframe=function(){return o.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},e.prototype.getScriptSrc=function(){if("string"===typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var n=this.props.cloudChannel;return"https://cdn.tiny.cloud/1/"+(this.props.apiKey?this.props.apiKey:"no-api-key")+"/tinymce/"+n+"/tinymce.min.js"},e.prototype.getInitialValue=function(){return"string"===typeof this.props.initialValue?this.props.initialValue:"string"===typeof this.props.value?this.props.value:""},e.prototype.bindHandlers=function(n){var e=this;if(void 0!==this.editor){f(this.editor,n,this.props,this.boundHandlers,(function(n){return e.props[n]}));var t=function(n){return void 0!==n.onEditorChange||void 0!==n.value},o=t(n),r=t(this.props);!o&&r?(this.editor.on(k(),this.handleEditorChange),this.editor.on(E(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):o&&!r&&(this.editor.off(k(),this.handleEditorChange),this.editor.off(E(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=u,e.defaultProps={cloudChannel:"5"},e}(o.Component)},6071:function(n,e,t){"use strict";var o=t(3038),r=t(862);e.default=void 0;var i=r(t(7294)),a=t(1689),u=t(2441),s=t(5749),c={};function l(n,e,t,o){if(n&&(0,a.isLocalURL)(e)){n.prefetch(e,t,o).catch((function(n){0}));var r=o&&"undefined"!==typeof o.locale?o.locale:n&&n.locale;c[e+"%"+t+(r?"%"+r:"")]=!0}}var f=function(n){var e=!1!==n.prefetch,t=(0,u.useRouter)(),r=t&&t.pathname||"/",f=i.default.useMemo((function(){var e=(0,a.resolveHref)(r,n.href,!0),t=o(e,2),i=t[0],u=t[1];return{href:i,as:n.as?(0,a.resolveHref)(r,n.as):u||i}}),[r,n.href,n.as]),d=f.href,p=f.as,h=n.children,v=n.replace,y=n.shallow,g=n.scroll,m=n.locale;"string"===typeof h&&(h=i.default.createElement("a",null,h));var C=i.Children.only(h),b=C&&"object"===typeof C&&C.ref,k=(0,s.useIntersection)({rootMargin:"200px"}),E=o(k,2),w=E[0],S=E[1],I=i.default.useCallback((function(n){w(n),b&&("function"===typeof b?b(n):"object"===typeof b&&(b.current=n))}),[b,w]);(0,i.useEffect)((function(){var n=S&&e&&(0,a.isLocalURL)(d),o="undefined"!==typeof m?m:t&&t.locale,r=c[d+"%"+p+(o?"%"+o:"")];n&&!r&&l(t,d,p,{locale:o})}),[p,d,S,m,e,t]);var M={ref:I,onClick:function(n){C.props&&"function"===typeof C.props.onClick&&C.props.onClick(n),n.defaultPrevented||function(n,e,t,o,r,i,u,s){("A"!==n.currentTarget.nodeName||!function(n){var e=n.currentTarget.target;return e&&"_self"!==e||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.nativeEvent&&2===n.nativeEvent.which}(n)&&(0,a.isLocalURL)(t))&&(n.preventDefault(),null==u&&(u=o.indexOf("#")<0),e[r?"replace":"push"](t,o,{shallow:i,locale:s,scroll:u}))}(n,t,d,p,v,y,g,m)},onMouseEnter:function(n){(0,a.isLocalURL)(d)&&(C.props&&"function"===typeof C.props.onMouseEnter&&C.props.onMouseEnter(n),l(t,d,p,{priority:!0}))}};if(n.passHref||"a"===C.type&&!("href"in C.props)){var L="undefined"!==typeof m?m:t&&t.locale,O=t&&t.isLocaleDomain&&(0,a.getDomainLocale)(p,L,t&&t.locales,t&&t.domainLocales);M.href=O||(0,a.addBasePath)((0,a.addLocale)(p,L,t&&t.defaultLocale))}return i.default.cloneElement(C,M)};e.default=f},5749:function(n,e,t){"use strict";var o=t(3038);e.__esModule=!0,e.useIntersection=function(n){var e=n.rootMargin,t=n.disabled||!a,s=(0,r.useRef)(),c=(0,r.useState)(!1),l=o(c,2),f=l[0],d=l[1],p=(0,r.useCallback)((function(n){s.current&&(s.current(),s.current=void 0),t||f||n&&n.tagName&&(s.current=function(n,e,t){var o=function(n){var e=n.rootMargin||"",t=u.get(e);if(t)return t;var o=new Map,r=new IntersectionObserver((function(n){n.forEach((function(n){var e=o.get(n.target),t=n.isIntersecting||n.intersectionRatio>0;e&&t&&e(t)}))}),n);return u.set(e,t={id:e,observer:r,elements:o}),t}(t),r=o.id,i=o.observer,a=o.elements;return a.set(n,e),i.observe(n),function(){a.delete(n),i.unobserve(n),0===a.size&&(i.disconnect(),u.delete(r))}}(n,(function(n){return n&&d(n)}),{rootMargin:e}))}),[t,e,f]);return(0,r.useEffect)((function(){if(!a&&!f){var n=(0,i.requestIdleCallback)((function(){return d(!0)}));return function(){return(0,i.cancelIdleCallback)(n)}}}),[f]),[p,f]};var r=t(7294),i=t(8391),a="undefined"!==typeof IntersectionObserver;var u=new Map},1664:function(n,e,t){n.exports=t(6071)},1163:function(n,e,t){n.exports=t(2441)}}]);