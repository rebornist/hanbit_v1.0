(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[856,179],{3836:function(e,t,n){"use strict";n.d(t,{L:function(){return d}});var a=n(6610),s=n(5991),o=n(6156),r=n(9669),i=n.n(r),l=n(1937),c=function(){function e(t,n,s,r,i){(0,a.Z)(this,e),(0,o.Z)(this,"url",void 0),(0,o.Z)(this,"type",void 0),(0,o.Z)(this,"token",void 0),(0,o.Z)(this,"csrf",void 0),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"xhr",void 0),this.url=t,this.type=n,null!==r&&(this.token=r),null!==i&&(this.csrf=i),null!==s&&(this.data=s)}return(0,s.Z)(e,[{key:"request",value:function(){return"GET"===this.type?this._getMethod():"POST"===this.type?this._postMethod():this._uploadMethod()}},{key:"_getMethod",value:function(){return(0,l.lN)(),i().get(this.url,{withCredentials:!0}).then((function(e){return(0,l.w7)(),e})).finally((function(){return(0,l.w7)()}))}},{key:"_postMethod",value:function(){return(0,l.lN)(),i().post(this.url,this.data,{headers:{Authorization:"Bearer ".concat(this.token),"X-CSRF-Token":this.csrf},withCredentials:!0}).then((function(e){return(0,l.w7)(),e})).finally((function(){return(0,l.w7)()}))}},{key:"_uploadMethod",value:function(){return(0,l.lN)(),i().post(this.url,this.data,{headers:{Authorization:"Bearer ".concat(this.token),"X-CSRF-Token":this.csrf},withCredentials:!0}).then((function(e){return(0,l.w7)(),e.data})).catch((function(e){return(0,l.w7)(),"upload failed"})).finally((function(){return(0,l.w7)()}))}}]),e}(),d=function(e,t,n,a,s){return new c(e,t,n,a,s).request()}},1937:function(e,t,n){"use strict";n.d(t,{lN:function(){return s},w7:function(){return o},A3:function(){return r},V$:function(){return i}});var a=n(8306);function s(){var e,t=document.createElement("div");t.setAttribute("id","loading"),t.style.zIndex="999",t.style.width="100%",t.style.height="100%",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.backgroundColor="rgba(255, 255, 255, 0.3)";var n=document.createElement("object");n.setAttribute("type","image/svg+xml"),n.setAttribute("data",a.Vf.loading),n.style.position="relative",n.style.left="48%",n.style.top="48%",t.appendChild(n),null===(e=document.querySelector("body"))||void 0===e||e.appendChild(t)}function o(){var e;document.getElementById("loading")&&(null===(e=document.getElementById("loading"))||void 0===e||e.remove())}function r(e){var t=document.getElementById(e);t.setAttribute("disabled","true"),t.innerText="";var n=document.createElement("object");n.setAttribute("type","image/svg+xml"),n.setAttribute("data",a.Vf.loadingSm),n.style.maxHeight="100%",t.appendChild(n)}function i(e,t){var n=document.getElementById(e);n.removeAttribute("disabled");var a=n.querySelector("object");a&&a.remove(),n.innerText=t}},1869:function(e,t,n){"use strict";n.d(t,{d:function(){return r},Y:function(){return i}});var a=n(5893),s=n(1937),o=n(3836),r=function(e){var t=e.target,n=e.id,r=e.token,i=e.title,l=e.csrf;return(0,a.jsx)("div",{className:"Modal hidden",children:(0,a.jsx)("div",{className:"modal-dialog",children:(0,a.jsxs)("form",{action:"",method:"post",children:[(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(l)}}),(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsxs)("div",{className:"modal-header bg-danger",children:[(0,a.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:"[Warning]\uae00 \uc0ad\uc81c"}),(0,a.jsxs)("button",{type:"button",className:"close",onClick:function(e){var t;e.preventDefault(),(0,s.V$)("delete-btn","\uc0ad\uc81c"),null===(t=document.querySelector(".Modal"))||void 0===t||t.classList.add("hidden")},children:[(0,a.jsx)("span",{children:"\xd7"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]}),(0,a.jsx)("div",{className:"modal-body",children:(0,a.jsxs)("p",{children:[i,"\uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"]})}),(0,a.jsx)("div",{className:"modal-footer",children:(0,a.jsx)("button",{id:"submit-btn",type:"button",onClick:function(){var e;(0,s.A3)("submit-btn"),(0,o.L)("/api/".concat(t,"/delete/").concat(n),"POST",void 0,"".concat(r),"".concat(null===(e=document.getElementById("_csrf"))||void 0===e?void 0:e.getAttribute("value"))).then((function(e){alert(e.data.message),(0,s.V$)("submit-btn","\uc0ad\uc81c"),window.location.replace("/".concat(t))})).catch((function(e){alert(e.message),(0,s.V$)("submit-btn","\uc0ad\uc81c")}))},className:"btn btn-sm btn-danger post-delete-btn",children:"\uc0ad\uc81c"})})]})]})})})},i=function(e){var t=e.csrf,n=e.idToken;return(0,a.jsx)("div",{className:"Modal hidden",children:(0,a.jsx)("div",{className:"modal-dialog",children:(0,a.jsxs)("form",{action:"",method:"post",children:[(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(t)}}),(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsxs)("div",{className:"modal-header bg-danger",children:[(0,a.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:"[Warning]\ud68c\uc6d0\ud0c8\ud1f4"}),(0,a.jsxs)("button",{type:"button",className:"close",onClick:function(e){var t;e.preventDefault(),null===(t=document.querySelector(".Modal"))||void 0===t||t.classList.add("hidden")},children:[(0,a.jsx)("span",{children:"\xd7"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]}),(0,a.jsx)("div",{className:"modal-body",children:(0,a.jsx)("p",{children:"\ud68c\uc6d0\ud0c8\ud1f4\ub97c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"})}),(0,a.jsx)("div",{className:"modal-footer",children:(0,a.jsx)("button",{id:"submit-btn",className:"btn btn-sm btn-danger post-delete-btn",onClick:function(e){var t;e.preventDefault(),(0,s.A3)("submit-btn");(0,o.L)("/api/user/withdrawal","POST",void 0,"".concat(n),"".concat(null===(t=document.getElementById("_csrf"))||void 0===t?void 0:t.getAttribute("value"))).then((function(e){alert(e.data.message),(0,s.V$)("submit-btn","\ud68c\uc6d0\ud0c8\ud1f4"),window.location.replace("/")})).catch((function(e){alert(e.message),(0,s.V$)("submit-btn","\ud68c\uc6d0\ud0c8\ud1f4")}))},children:"\ud68c\uc6d0\ud0c8\ud1f4"})})]})]})})})}},6071:function(e,t,n){"use strict";var a=n(3038),s=n(862);t.default=void 0;var o=s(n(7294)),r=n(1689),i=n(2441),l=n(5749),c={};function d(e,t,n,a){if(e&&(0,r.isLocalURL)(t)){e.prefetch(t,n,a).catch((function(e){0}));var s=a&&"undefined"!==typeof a.locale?a.locale:e&&e.locale;c[t+"%"+n+(s?"%"+s:"")]=!0}}var u=function(e){var t=!1!==e.prefetch,n=(0,i.useRouter)(),s=n&&n.pathname||"/",u=o.default.useMemo((function(){var t=(0,r.resolveHref)(s,e.href,!0),n=a(t,2),o=n[0],i=n[1];return{href:o,as:e.as?(0,r.resolveHref)(s,e.as):i||o}}),[s,e.href,e.as]),f=u.href,h=u.as,m=e.children,p=e.replace,g=e.shallow,v=e.scroll,b=e.locale;"string"===typeof m&&(m=o.default.createElement("a",null,m));var y=o.Children.only(m),x=y&&"object"===typeof y&&y.ref,j=(0,l.useIntersection)({rootMargin:"200px"}),N=a(j,2),k=N[0],w=N[1],_=o.default.useCallback((function(e){k(e),x&&("function"===typeof x?x(e):"object"===typeof x&&(x.current=e))}),[x,k]);(0,o.useEffect)((function(){var e=w&&t&&(0,r.isLocalURL)(f),a="undefined"!==typeof b?b:n&&n.locale,s=c[f+"%"+h+(a?"%"+a:"")];e&&!s&&d(n,f,h,{locale:a})}),[h,f,w,b,t,n]);var C={ref:_,onClick:function(e){y.props&&"function"===typeof y.props.onClick&&y.props.onClick(e),e.defaultPrevented||function(e,t,n,a,s,o,i,l){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,r.isLocalURL)(n))&&(e.preventDefault(),null==i&&(i=a.indexOf("#")<0),t[s?"replace":"push"](n,a,{shallow:o,locale:l,scroll:i}))}(e,n,f,h,p,g,v,b)},onMouseEnter:function(e){(0,r.isLocalURL)(f)&&(y.props&&"function"===typeof y.props.onMouseEnter&&y.props.onMouseEnter(e),d(n,f,h,{priority:!0}))}};if(e.passHref||"a"===y.type&&!("href"in y.props)){var E="undefined"!==typeof b?b:n&&n.locale,M=n&&n.isLocaleDomain&&(0,r.getDomainLocale)(h,E,n&&n.locales,n&&n.domainLocales);C.href=M||(0,r.addBasePath)((0,r.addLocale)(h,E,n&&n.defaultLocale))}return o.default.cloneElement(y,C)};t.default=u},5749:function(e,t,n){"use strict";var a=n(3038);t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!r,l=(0,s.useRef)(),c=(0,s.useState)(!1),d=a(c,2),u=d[0],f=d[1],h=(0,s.useCallback)((function(e){l.current&&(l.current(),l.current=void 0),n||u||e&&e.tagName&&(l.current=function(e,t,n){var a=function(e){var t=e.rootMargin||"",n=i.get(t);if(n)return n;var a=new Map,s=new IntersectionObserver((function(e){e.forEach((function(e){var t=a.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return i.set(t,n={id:t,observer:s,elements:a}),n}(n),s=a.id,o=a.observer,r=a.elements;return r.set(e,t),o.observe(e),function(){r.delete(e),o.unobserve(e),0===r.size&&(o.disconnect(),i.delete(s))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[n,t,u]);return(0,s.useEffect)((function(){if(!r&&!u){var e=(0,o.requestIdleCallback)((function(){return f(!0)}));return function(){return(0,o.cancelIdleCallback)(e)}}}),[u]),[h,u]};var s=n(7294),o=n(8391),r="undefined"!==typeof IntersectionObserver;var i=new Map},4007:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(5893),s=n(7294),o=n(1163),r=n(1664),i=function(e){var t=e.id,n=e.photo;return(0,a.jsx)("div",{className:0===t?"carousel-item active":"carousel-item",children:(0,a.jsx)("div",{className:"overlay-container",style:{display:"flex",justifyContent:"center"},children:(0,a.jsx)("img",{src:"/media/".concat(n),style:{maxHeight:"686px"},alt:""})})})},l=function(e,t){return(0,a.jsx)(i,{id:t,photo:e},t)},c=function(e){var t=e.id;e.photo;return(0,a.jsx)("li",{"data-target":"#carousel-blog-post","data-slide-to":"".concat(t),className:0===t?"active":""})},d=function(e,t){return(0,a.jsx)(c,{id:t,photo:e},t)},u=function(e){var t=e.target,n=e.gallary,s=e.photos,o=e.permission,i=e.modalOpen;return(0,a.jsx)("section",{className:"main-container text-noto text-md font-sm",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsxs)("div",{className:"main col-lg-12",children:[(0,a.jsx)("h1",{className:"page-title",children:n&&n.title}),(0,a.jsxs)("article",{className:"blogpost full",children:[(0,a.jsx)("header",{children:(0,a.jsxs)("div",{className:"post-info mb-4",children:[(0,a.jsxs)("span",{className:"post-date",children:[(0,a.jsx)("i",{className:"fa fa-calendar-o pr-1"}),(0,a.jsx)("span",{className:"date",children:n&&n.createdAt})]}),(0,a.jsxs)("span",{className:"submitted",children:[(0,a.jsx)("i",{className:"fa fa-user pr-1 pl-1"})," by"," ",n&&n.author]})]})}),(0,a.jsxs)("div",{className:"blogpost-content",children:[(0,a.jsxs)("div",{id:"carousel-blog-post",className:"carousel slide mb-5","data-ride":"carousel",children:[(0,a.jsx)("ol",{className:"carousel-indicators",children:s&&s.map(d)}),(0,a.jsx)("div",{className:"carousel-inner",role:"listbox",children:s&&s.map(l)})]}),(0,a.jsx)(r.default,{href:"/".concat(t),children:(0,a.jsx)("a",{className:"btn btn-outline border-secondary text-secondary",children:"\ubaa9\ub85d\ubcf4\uae30"})}),o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{href:"/".concat(t,"/").concat(null===n||void 0===n?void 0:n._id,"/edit"),children:(0,a.jsx)("a",{className:"btn btn-outline border-success text-success mx-1",children:"\uc218\uc815"})}),(0,a.jsx)(r.default,{href:"/".concat(t,"/").concat(null===n||void 0===n?void 0:n._id,"/delete"),children:(0,a.jsx)("a",{id:"delete-btn",className:"btn btn-outline border-danger text-danger",onClick:i,children:"\uc0ad\uc81c"})})]})]})]})]})})})})},f=n(3836),h=n(1937),m=n(1869),p=(0,o.withRouter)((function(){var e=(0,o.useRouter)().asPath,t="".concat(e).split("/")["".concat(e).split("/").length-2],n=(0,s.useState)({target:"",csrf:"",postID:"",postTitle:"",permission:!1}),r=n[0],i=n[1];(0,s.useEffect)((function(){var e="/api/gallaries/".concat(t);(0,f.L)(e,"GET").then((function(e){i({target:"gallaries",csrf:e.data.csrf,postID:t,postTitle:e.data.gallary.title,idToken:e.data.idToken,gallary:e.data.gallary,photos:e.data.photos,permission:e.data.permission})})).catch((function(e){alert(e.message),document.location.replace("/gallaries")}))}),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,{target:r.target,gallary:r.gallary?r.gallary:{},photos:r.photos?r.photos:[],permission:r.permission,modalOpen:function(e){var t;e.preventDefault(),(0,h.A3)("delete-btn"),null===(t=document.querySelector(".Modal"))||void 0===t||t.classList.remove("hidden")}}),(0,a.jsx)(m.d,{target:r.target,id:r.postID,token:r.idToken?r.idToken:"",title:r.postTitle,csrf:r.csrf})]})}))},8306:function(e,t,n){"use strict";n.d(t,{yb:function(){return a},zA:function(){return s},Vf:function(){return o},mv:function(){return r},Dj:function(){return i},Qo:function(){return l},_N:function(){return c},ly:function(){return d}});var a="/favicon.ico",s="/assets/images/team-member-3.jpg",o={logo:"/assets/images/logo.png",loading:"/assets/images/loading.svg",loadingSm:"/assets/images/loading-sm.svg",headerLoading:"/assets/images/pulse.svg"},r={sky:"/assets/images/sky.jpg",church:"/assets/images/hanbitchurch.jpg",logoc:"/assets/images/logo_c.png"},i={hht:"/assets/images/hht.jpg",background:"/assets/images/background3.jpg",peoples:"/assets/images/peoples.png",navermap:"/assets/images/navermap.png"},l={bibleworkbook:"/assets/images/bibleworkbook.jpg",people:"/assets/images/people.jpg",newfamily:"/assets/images/newfamily.jpg",school:"/assets/images/school.png"},c={background:"/assets/images/cross.jpg"},d={google:"/assets/images/google.png",naver:"/assets/images/naver.png",kakao:"/assets/images/kakao.png"}},9480:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallaries/[id]",function(){return n(4007)}])},1664:function(e,t,n){e.exports=n(6071)},1163:function(e,t,n){e.exports=n(2441)},4453:function(){}},function(e){e.O(0,[774,456,480,433],(function(){return t=9480,e(e.s=t);var t}));var t=e.O();_N_E=t}]);