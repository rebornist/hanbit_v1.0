(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[536,179],{3836:function(e,t,n){"use strict";n.d(t,{L:function(){return u}});var r=n(6610),a=n(5991),s=n(6156),o=n(9669),i=n.n(o),l=n(1937),c=function(){function e(t,n,a,o,i){(0,r.Z)(this,e),(0,s.Z)(this,"url",void 0),(0,s.Z)(this,"type",void 0),(0,s.Z)(this,"token",void 0),(0,s.Z)(this,"csrf",void 0),(0,s.Z)(this,"data",void 0),(0,s.Z)(this,"xhr",void 0),this.url=t,this.type=n,null!==o&&(this.token=o),null!==i&&(this.csrf=i),null!==a&&(this.data=a)}return(0,a.Z)(e,[{key:"request",value:function(){return"GET"===this.type?this._getMethod():"POST"===this.type?this._postMethod():this._uploadMethod()}},{key:"_getMethod",value:function(){return(0,l.lN)(),i().get(this.url,{withCredentials:!0}).then((function(e){return(0,l.w7)(),e})).finally((function(){return(0,l.w7)()}))}},{key:"_postMethod",value:function(){return(0,l.lN)(),i().post(this.url,this.data,{headers:{Authorization:"Bearer ".concat(this.token),"X-CSRF-Token":this.csrf},withCredentials:!0}).then((function(e){return(0,l.w7)(),e})).finally((function(){return(0,l.w7)()}))}},{key:"_uploadMethod",value:function(){return(0,l.lN)(),i().post(this.url,this.data,{headers:{Authorization:"Bearer ".concat(this.token),"X-CSRF-Token":this.csrf},withCredentials:!0}).then((function(e){return(0,l.w7)(),e.data})).catch((function(e){return(0,l.w7)(),"upload failed"})).finally((function(){return(0,l.w7)()}))}}]),e}(),u=function(e,t,n,r,a){return new c(e,t,n,r,a).request()}},1937:function(e,t,n){"use strict";n.d(t,{lN:function(){return a},w7:function(){return s},A3:function(){return o},V$:function(){return i}});var r=n(8306);function a(){var e,t=document.createElement("div");t.setAttribute("id","loading"),t.style.zIndex="999",t.style.width="100%",t.style.height="100%",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.backgroundColor="rgba(255, 255, 255, 0.3)";var n=document.createElement("object");n.setAttribute("type","image/svg+xml"),n.setAttribute("data",r.Vf.loading),n.style.position="relative",n.style.left="48%",n.style.top="48%",t.appendChild(n),null===(e=document.querySelector("body"))||void 0===e||e.appendChild(t)}function s(){var e;document.getElementById("loading")&&(null===(e=document.getElementById("loading"))||void 0===e||e.remove())}function o(e){var t=document.getElementById(e);t.setAttribute("disabled","true"),t.innerText="";var n=document.createElement("object");n.setAttribute("type","image/svg+xml"),n.setAttribute("data",r.Vf.loadingSm),n.style.maxHeight="100%",t.appendChild(n)}function i(e,t){var n=document.getElementById(e);n.removeAttribute("disabled");var r=n.querySelector("object");r&&r.remove(),n.innerText=t}},6071:function(e,t,n){"use strict";var r=n(3038),a=n(862);t.default=void 0;var s=a(n(7294)),o=n(1689),i=n(2441),l=n(5749),c={};function u(e,t,n,r){if(e&&(0,o.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var a=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;c[t+"%"+n+(a?"%"+a:"")]=!0}}var d=function(e){var t=!1!==e.prefetch,n=(0,i.useRouter)(),a=n&&n.pathname||"/",d=s.default.useMemo((function(){var t=(0,o.resolveHref)(a,e.href,!0),n=r(t,2),s=n[0],i=n[1];return{href:s,as:e.as?(0,o.resolveHref)(a,e.as):i||s}}),[a,e.href,e.as]),f=d.href,p=d.as,g=e.children,h=e.replace,m=e.shallow,v=e.scroll,y=e.locale;"string"===typeof g&&(g=s.default.createElement("a",null,g));var b=s.Children.only(g),k=b&&"object"===typeof b&&b.ref,w=(0,l.useIntersection)({rootMargin:"200px"}),j=r(w,2),x=j[0],E=j[1],_=s.default.useCallback((function(e){x(e),k&&("function"===typeof k?k(e):"object"===typeof k&&(k.current=e))}),[k,x]);(0,s.useEffect)((function(){var e=E&&t&&(0,o.isLocalURL)(f),r="undefined"!==typeof y?y:n&&n.locale,a=c[f+"%"+p+(r?"%"+r:"")];e&&!a&&u(n,f,p,{locale:r})}),[p,f,E,y,t,n]);var N={ref:_,onClick:function(e){b.props&&"function"===typeof b.props.onClick&&b.props.onClick(e),e.defaultPrevented||function(e,t,n,r,a,s,i,l){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,o.isLocalURL)(n))&&(e.preventDefault(),null==i&&(i=r.indexOf("#")<0),t[a?"replace":"push"](n,r,{shallow:s,locale:l,scroll:i}))}(e,n,f,p,h,m,v,y)},onMouseEnter:function(e){(0,o.isLocalURL)(f)&&(b.props&&"function"===typeof b.props.onMouseEnter&&b.props.onMouseEnter(e),u(n,f,p,{priority:!0}))}};if(e.passHref||"a"===b.type&&!("href"in b.props)){var C="undefined"!==typeof y?y:n&&n.locale,I=n&&n.isLocaleDomain&&(0,o.getDomainLocale)(p,C,n&&n.locales,n&&n.domainLocales);N.href=I||(0,o.addBasePath)((0,o.addLocale)(p,C,n&&n.defaultLocale))}return s.default.cloneElement(b,N)};t.default=d},5749:function(e,t,n){"use strict";var r=n(3038);t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!o,l=(0,a.useRef)(),c=(0,a.useState)(!1),u=r(c,2),d=u[0],f=u[1],p=(0,a.useCallback)((function(e){l.current&&(l.current(),l.current=void 0),n||d||e&&e.tagName&&(l.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=i.get(t);if(n)return n;var r=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return i.set(t,n={id:t,observer:a,elements:r}),n}(n),a=r.id,s=r.observer,o=r.elements;return o.set(e,t),s.observe(e),function(){o.delete(e),s.unobserve(e),0===o.size&&(s.disconnect(),i.delete(a))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[n,t,d]);return(0,a.useEffect)((function(){if(!o&&!d){var e=(0,s.requestIdleCallback)((function(){return f(!0)}));return function(){return(0,s.cancelIdleCallback)(e)}}}),[d]),[p,d]};var a=n(7294),s=n(8391),o="undefined"!==typeof IntersectionObserver;var i=new Map},1975:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(5893),a=n(7294),s=n(1163),o=n(3836),i=n(1664),l=n(1937),c=function(e){var t=e.postID,a=e.item;return(0,r.jsx)(r.Fragment,{children:a.permission&&(0,r.jsx)("div",{className:"main-container",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("div",{className:"col-10",children:(0,r.jsx)("div",{className:"main",children:(0,r.jsxs)("div",{className:"form p-30 light-gray-bg border-clear",children:[(0,r.jsxs)("h2",{className:"title",children:[a.postTitle," \uc0ad\uc81c"]}),(0,r.jsxs)("form",{method:"post",className:"form-horizontal",children:[(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(a.csrf)}}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsxs)("label",{style:{display:"block"},children:[a.postTitle,"\uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"]})}),(0,r.jsx)("button",{id:"submit-btn",type:"button",className:"btn btn-default",onClick:function(e){var r;e.preventDefault(),(0,l.A3)("submit-btn");var s="/api/".concat(a.target,"/delete/").concat(t);(0,o.L)(s,"POST",void 0,"".concat(a.idToken),"".concat(null===(r=document.getElementById("_csrf"))||void 0===r?void 0:r.getAttribute("value"))).then((function(e){(0,l.V$)("submit-btn","\uae00 \uc0ad\uc81c"),n.g.window.location.replace("/gallaries")})).catch((function(e){alert("error: ".concat(e)),(0,l.V$)("submit-btn","\uae00 \uc0ad\uc81c")}))},children:"\uae00 \uc0ad\uc81c"}),(0,r.jsx)(i.default,{href:"/".concat(a.target,"/").concat(t),children:(0,r.jsx)("a",{id:"close-btn",className:"btn btn-danger text-white ml-2",children:"\ub098\uac00\uae30"})})]})]})})})})})})})},u=(0,s.withRouter)((function(){var e=(0,s.useRouter)().asPath,t="".concat(e).split("/")[2],i=(0,a.useState)({target:"",csrf:"",postTitle:"",postID:"",permission:!1}),l=i[0],u=i[1];return(0,a.useEffect)((function(){var e="/api/gallaries/delete/".concat(t);(0,o.L)(e,"GET").then((function(e){u({target:"gallaries",csrf:e.data.csrf,postTitle:e.data.gallary.title,postID:t,permission:e.data.permission,gallary:e.data.gallary})})).catch((function(e){alert(e.message),n.g.window.location.replace("/gallaries")}))}),[]),(0,r.jsx)(r.Fragment,{children:l.permission&&(0,r.jsx)(c,{postID:l.postID,item:l})})}))},8306:function(e,t,n){"use strict";n.d(t,{yb:function(){return r},zA:function(){return a},Vf:function(){return s},mv:function(){return o},Dj:function(){return i},Qo:function(){return l},_N:function(){return c},ly:function(){return u}});var r="/favicon.ico",a="/assets/images/team-member-3.jpg",s={logo:"/assets/images/logo.png",loading:"/assets/images/loading.svg",loadingSm:"/assets/images/loading-sm.svg",headerLoading:"/assets/images/pulse.svg"},o={sky:"/assets/images/sky.jpg",church:"/assets/images/hanbitchurch.jpg",logoc:"/assets/images/logo_c.png"},i={hht:"/assets/images/hht.jpg",background:"/assets/images/background3.jpg",peoples:"/assets/images/peoples.png",navermap:"/assets/images/navermap.png"},l={bibleworkbook:"/assets/images/bibleworkbook.jpg",people:"/assets/images/people.jpg",newfamily:"/assets/images/newfamily.jpg",school:"/assets/images/school.png"},c={background:"/assets/images/cross.jpg"},u={google:"/assets/images/google.png",naver:"/assets/images/naver.png",kakao:"/assets/images/kakao.png"}},4203:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallaries/[id]/delete",function(){return n(1975)}])},1664:function(e,t,n){e.exports=n(6071)},1163:function(e,t,n){e.exports=n(2441)},4453:function(){}},function(e){e.O(0,[774,456,480,433],(function(){return t=4203,e(e.s=t);var t}));var t=e.O();_N_E=t}]);