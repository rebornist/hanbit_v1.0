(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[232,179],{3836:function(e,t,n){"use strict";n.d(t,{L:function(){return u}});var r=n(6610),o=n(5991),a=n(6156),s=n(9669),i=n.n(s),l=n(1937),c=function(){function e(t,n,o,s,i){(0,r.Z)(this,e),(0,a.Z)(this,"url",void 0),(0,a.Z)(this,"type",void 0),(0,a.Z)(this,"token",void 0),(0,a.Z)(this,"csrf",void 0),(0,a.Z)(this,"data",void 0),(0,a.Z)(this,"xhr",void 0),this.url=t,this.type=n,null!==s&&(this.token=s),null!==i&&(this.csrf=i),null!==o&&(this.data=o)}return(0,o.Z)(e,[{key:"request",value:function(){return"GET"===this.type?this._getMethod():"POST"===this.type?this._postMethod():this._uploadMethod()}},{key:"_getMethod",value:function(){return(0,l.lN)(),i().get(this.url,{withCredentials:!0}).then((function(e){return(0,l.w7)(),e})).finally((function(){return(0,l.w7)()}))}},{key:"_postMethod",value:function(){return(0,l.lN)(),i().post(this.url,this.data,{headers:{Authorization:"Bearer ".concat(this.token),"X-CSRF-Token":this.csrf},withCredentials:!0}).then((function(e){return(0,l.w7)(),e})).finally((function(){return(0,l.w7)()}))}},{key:"_uploadMethod",value:function(){return(0,l.lN)(),i().post(this.url,this.data,{headers:{Authorization:"Bearer ".concat(this.token),"X-CSRF-Token":this.csrf},withCredentials:!0}).then((function(e){return(0,l.w7)(),e.data})).catch((function(e){return(0,l.w7)(),"upload failed"})).finally((function(){return(0,l.w7)()}))}}]),e}(),u=function(e,t,n,r,o){return new c(e,t,n,r,o).request()}},1937:function(e,t,n){"use strict";n.d(t,{lN:function(){return o},w7:function(){return a},A3:function(){return s},V$:function(){return i}});var r=n(8306);function o(){var e,t=document.createElement("div");t.setAttribute("id","loading"),t.style.zIndex="999",t.style.width="100%",t.style.height="100%",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.backgroundColor="rgba(255, 255, 255, 0.3)";var n=document.createElement("object");n.setAttribute("type","image/svg+xml"),n.setAttribute("data",r.Vf.loading),n.style.position="relative",n.style.left="48%",n.style.top="48%",t.appendChild(n),null===(e=document.querySelector("body"))||void 0===e||e.appendChild(t)}function a(){var e;document.getElementById("loading")&&(null===(e=document.getElementById("loading"))||void 0===e||e.remove())}function s(e){var t=document.getElementById(e);t.setAttribute("disabled","true"),t.innerText="";var n=document.createElement("object");n.setAttribute("type","image/svg+xml"),n.setAttribute("data",r.Vf.loadingSm),n.style.maxHeight="100%",t.appendChild(n)}function i(e,t){var n=document.getElementById(e);n.removeAttribute("disabled");var r=n.querySelector("object");r&&r.remove(),n.innerText=t}},5757:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r=["\uc804\uccb4\ubcf4\uae30","\ud68c\uc6d0\ubcf4\uae30","\uad00\ub9ac\uc790\ubcf4\uae30"]},6071:function(e,t,n){"use strict";var r=n(3038),o=n(862);t.default=void 0;var a=o(n(7294)),s=n(1689),i=n(2441),l=n(5749),c={};function u(e,t,n,r){if(e&&(0,s.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;c[t+"%"+n+(o?"%"+o:"")]=!0}}var d=function(e){var t=!1!==e.prefetch,n=(0,i.useRouter)(),o=n&&n.pathname||"/",d=a.default.useMemo((function(){var t=(0,s.resolveHref)(o,e.href,!0),n=r(t,2),a=n[0],i=n[1];return{href:a,as:e.as?(0,s.resolveHref)(o,e.as):i||a}}),[o,e.href,e.as]),f=d.href,p=d.as,h=e.children,m=e.replace,g=e.shallow,v=e.scroll,b=e.locale;"string"===typeof h&&(h=a.default.createElement("a",null,h));var y=a.Children.only(h),k=y&&"object"===typeof y&&y.ref,j=(0,l.useIntersection)({rootMargin:"200px"}),x=r(j,2),w=x[0],_=x[1],E=a.default.useCallback((function(e){w(e),k&&("function"===typeof k?k(e):"object"===typeof k&&(k.current=e))}),[k,w]);(0,a.useEffect)((function(){var e=_&&t&&(0,s.isLocalURL)(f),r="undefined"!==typeof b?b:n&&n.locale,o=c[f+"%"+p+(r?"%"+r:"")];e&&!o&&u(n,f,p,{locale:r})}),[p,f,_,b,t,n]);var N={ref:E,onClick:function(e){y.props&&"function"===typeof y.props.onClick&&y.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,a,i,l){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,s.isLocalURL)(n))&&(e.preventDefault(),null==i&&(i=r.indexOf("#")<0),t[o?"replace":"push"](n,r,{shallow:a,locale:l,scroll:i}))}(e,n,f,p,m,g,v,b)},onMouseEnter:function(e){(0,s.isLocalURL)(f)&&(y.props&&"function"===typeof y.props.onMouseEnter&&y.props.onMouseEnter(e),u(n,f,p,{priority:!0}))}};if(e.passHref||"a"===y.type&&!("href"in y.props)){var C="undefined"!==typeof b?b:n&&n.locale,I=n&&n.isLocaleDomain&&(0,s.getDomainLocale)(p,C,n&&n.locales,n&&n.domainLocales);N.href=I||(0,s.addBasePath)((0,s.addLocale)(p,C,n&&n.defaultLocale))}return a.default.cloneElement(y,N)};t.default=d},5749:function(e,t,n){"use strict";var r=n(3038);t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!s,l=(0,o.useRef)(),c=(0,o.useState)(!1),u=r(c,2),d=u[0],f=u[1],p=(0,o.useCallback)((function(e){l.current&&(l.current(),l.current=void 0),n||d||e&&e.tagName&&(l.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=i.get(t);if(n)return n;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return i.set(t,n={id:t,observer:o,elements:r}),n}(n),o=r.id,a=r.observer,s=r.elements;return s.set(e,t),a.observe(e),function(){s.delete(e),a.unobserve(e),0===s.size&&(a.disconnect(),i.delete(o))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[n,t,d]);return(0,o.useEffect)((function(){if(!s&&!d){var e=(0,a.requestIdleCallback)((function(){return f(!0)}));return function(){return(0,a.cancelIdleCallback)(e)}}}),[d]),[p,d]};var o=n(7294),a=n(8391),s="undefined"!==typeof IntersectionObserver;var i=new Map},7471:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(5893),o=n(7294),a=n(1163),s=n(3836),i=n(1664),l=n(1937);var c=function(e){var t=e.target,a=e.item,c=(0,o.useState)(""),u=c[0],d=c[1];return(0,r.jsx)(r.Fragment,{children:a.permission&&(0,r.jsx)("div",{className:"main-container text-noto text-md font-sm",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("div",{className:"col-10",children:(0,r.jsx)("div",{className:"main",children:(0,r.jsxs)("div",{className:"form p-30 light-gray-bg border-clear",children:[(0,r.jsx)("h2",{className:"title",children:"\uc0ac\uc9c4 \ub4f1\ub85d"}),(0,r.jsxs)("form",{method:"post",className:"form-horizontal",children:[(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:a.csrf}}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"photo",children:"Photo Upload"}),(0,r.jsx)("input",{type:"file",className:"form-control",id:"photo",name:"photo",multiple:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"title",style:{display:"block"},children:"\uc81c\ubaa9"}),(0,r.jsx)("input",{className:"form-control",id:"title",name:"title",onChange:function(e){var t=e.target.value;d(t)}}),(0,r.jsx)("label",{htmlFor:"open_grade",style:{display:"block",marginTop:"15px"},children:"\uacf5\uac1c\ubc94\uc704"}),(0,r.jsx)("select",{id:"open_grade",name:"open_grade",className:"form-control",children:a.postTypes.map((function(e,t){return(0,r.jsx)("option",{value:"".concat(t),children:e})}))})]}),(0,r.jsx)("button",{id:"submit-btn",type:"submit",className:"btn btn-default",onClick:function(e){e.preventDefault(),(0,l.A3)("submit-btn");var r=document.getElementById("open_grade").value;!function(e,t){for(var n=e.length,r=[],o=[],a=0;a<n;a++)s(e[a]);function s(e){var a=new FileReader;a.onload=function(){if("image"==="".concat(e.type).split("/")[0]){var a=this.result;r.push(a),o.push(e.name),--n||t(r,o)}},a.readAsDataURL(e)}}(document.getElementById("photo").files,(function(e,o){if(e.length<1)alert("\ub4f1\ub85d\ub41c \uc0ac\uc9c4\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");else{var i={post:a.target,title:u,openGrade:r,photoId:a.photoId,photos:e,photonames:o};if(u){var c,d="/api/".concat(t,"/create");(0,s.L)(d,"POST",i,"".concat(a.idToken),"".concat(null===(c=document.getElementById("_csrf"))||void 0===c?void 0:c.getAttribute("value"))).then((function(e){alert(e.data.message),(0,l.V$)("submit-btn","\uc0ac\uc9c4 \ub4f1\ub85d"),n.g.window.location.replace("/".concat(t))})).catch((function(e){alert("error: ".concat(e)),(0,l.V$)("submit-btn","\uc0ac\uc9c4 \ub4f1\ub85d")}))}else alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694."),(0,l.V$)("submit-btn","\uc0ac\uc9c4 \ub4f1\ub85d")}}))},children:"\uc0ac\uc9c4 \ub4f1\ub85d"}),(0,r.jsx)(i.default,{href:"/".concat(t),children:(0,r.jsx)("a",{id:"close-btn",className:"btn btn-danger text-white ml-2",children:"\ub098\uac00\uae30"})})]})]})})})})})})})},u=n(5757),d=(0,a.withRouter)((function(){var e=(0,o.useState)({target:"",csrf:"",postTitle:"",permission:!1}),t=e[0],n=e[1];return(0,o.useEffect)((function(){(0,s.L)("/api/gallaries/create","GET").then((function(e){n({target:"gallaries",csrf:e.data.csrf,postTypes:u.b,idToken:e.data.idToken,photoId:e.data.photoId,permission:e.data.permission})})).catch((function(e){alert(e.message),window.location.replace("/gallaries")}))}),[]),(0,r.jsx)(r.Fragment,{children:t.permission&&(0,r.jsx)(c,{target:t.target,item:t})})}))},8306:function(e,t,n){"use strict";n.d(t,{yb:function(){return r},zA:function(){return o},Vf:function(){return a},mv:function(){return s},Dj:function(){return i},Qo:function(){return l},_N:function(){return c},ly:function(){return u}});var r="/favicon.ico",o="/assets/images/team-member-3.jpg",a={logo:"/assets/images/logo.png",loading:"/assets/images/loading.svg",loadingSm:"/assets/images/loading-sm.svg",headerLoading:"/assets/images/pulse.svg"},s={sky:"/assets/images/sky.jpg",church:"/assets/images/hanbitchurch.jpg",logoc:"/assets/images/logo_c.png"},i={hht:"/assets/images/hht.jpg",background:"/assets/images/background3.jpg",peoples:"/assets/images/peoples.png",navermap:"/assets/images/navermap.png"},l={bibleworkbook:"/assets/images/bibleworkbook.jpg",people:"/assets/images/people.jpg",newfamily:"/assets/images/newfamily.jpg",school:"/assets/images/school.png"},c={background:"/assets/images/cross.jpg"},u={google:"/assets/images/google.png",naver:"/assets/images/naver.png",kakao:"/assets/images/kakao.png"}},8323:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallaries/create",function(){return n(7471)}])},1664:function(e,t,n){e.exports=n(6071)},1163:function(e,t,n){e.exports=n(2441)},4453:function(){}},function(e){e.O(0,[774,456,480,433],(function(){return t=8323,e(e.s=t);var t}));var t=e.O();_N_E=t}]);